<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start --><script src="https://cdn.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js"></script><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>数据库课程实践 | 梨花先雪</title><meta name="author" content="梨花先雪"><meta name="copyright" content="梨花先雪"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="数据库实践之淘宝本地数据库设计">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库课程实践">
<meta property="og:url" content="https://haydenzhy.github.io/post/73de793a">
<meta property="og:site_name" content="梨花先雪">
<meta property="og:description" content="数据库实践之淘宝本地数据库设计">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/HaydenZHY/jsdelivr@main/image/avatar/avatar2.jpg">
<meta property="article:published_time" content="2024-12-06T10:53:04.000Z">
<meta property="article:modified_time" content="2025-01-08T03:41:54.982Z">
<meta property="article:author" content="梨花先雪">
<meta property="article:tag" content="数据库">
<meta property="article:tag" content="实践">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/HaydenZHY/jsdelivr@main/image/avatar/avatar2.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/HaydenZHY/jsdelivr@main/image/avatar/avatar2.jpg"><link rel="canonical" href="https://haydenzhy.github.io/post/73de793a"><link rel="preconnect" href="//cdn.jsdelivr.net"/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><meta/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":400},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 梨花先雪","link":"链接: ","source":"来源: 梨花先雪","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '数据库课程实践',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-01-08 11:41:54'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 13 || hour >= 13
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/HaydenZHY/jsdelivr@main/image/avatar/avatar2.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">46</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">59</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/books/"><i class="fa-fw fa-solid fa-book"></i><span> 书单</span></a></div><div class="menus_item"><a class="site-page" href="/movies/"><i class="fa-fw fa-solid fa-video"></i><span> 电影</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo/"><i class="fa-fw fa-solid fa-comment-dots"></i><span> 说说</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fa-solid fa-image"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment"></i><span> 留言板</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background: #626079"><nav id="nav"><span id="blog-info"><a href="/" title="梨花先雪"><span class="site-name">梨花先雪</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/books/"><i class="fa-fw fa-solid fa-book"></i><span> 书单</span></a></div><div class="menus_item"><a class="site-page" href="/movies/"><i class="fa-fw fa-solid fa-video"></i><span> 电影</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/shuoshuo/"><i class="fa-fw fa-solid fa-comment-dots"></i><span> 说说</span></a></div><div class="menus_item"><a class="site-page" href="/Gallery/"><i class="fa-fw fa-solid fa-image"></i><span> 图库</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment"></i><span> 留言板</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">数据库课程实践</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-06T10:53:04.000Z" title="发表于 2024-12-06 18:53:04">2024-12-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-01-08T03:41:54.982Z" title="更新于 2025-01-08 11:41:54">2025-01-08</time></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><hr>
<ul>
<li>天津大学 2024 数据库课程实践</li>
<li>Lab Member：海棠未雨，梨花先雪，流萤染夏</li>
<li>最终成绩 91 分捏 😋</li>
</ul>
<hr>
<p>报告如下：</p>


	<div class="row">
    <embed src="https://cdn.jsdelivr.net/gh/HaydenZHY/jsdelivr@main/pdf/数据库实践/数据库实践报告.pdf" width="100%" height="550" type="application/pdf">
	</div>



<p>答辩PPT如下：</p>


	<div class="row">
    <embed src="https://cdn.jsdelivr.net/gh/HaydenZHY/jsdelivr@main/pdf/数据库实践/汇报PPT.pdf" width="100%" height="550" type="application/pdf">
	</div>



<p>源码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--先删关系表</span></span><br><span class="line"><span class="comment">--交易系统关系表</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> sell;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> hold_ ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> order_ ;</span><br><span class="line"><span class="comment">--用户系统关系表</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer_get_coupon ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer_recieve_redpacket ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer_register_address ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> friendship ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> fan ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> user_focus_user ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> manage_subaccount ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> shopping_cart ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> <span class="keyword">collect</span> ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> watching_history ;</span><br><span class="line"><span class="comment">--聊天系统关系表</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> friend_and_friend ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> seller_and_agent ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer_and_agent ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer_and_seller ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> member_and_member ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> group_members ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> friend_request ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> group_request ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> reply ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer_give_evaluation ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer_ask_question ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer_reply_question ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer_focus_question ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer_have_archive ;</span><br><span class="line"></span><br><span class="line"><span class="comment">--再删实体表</span></span><br><span class="line"><span class="comment">--交易系统实体表</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> mark ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> logistics ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> food ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> cloth ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ele_appliment ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> ele_product ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> makeup ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> sport ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> toy ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> daily_necessarity ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> discount ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> store ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> commodity ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> historical_price ;</span><br><span class="line"><span class="comment">--用户系统实体表</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> red_packet ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> taobao_history ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> address ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> archive ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> coupon ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> users ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> consumer ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> seller ;</span><br><span class="line"><span class="comment">--聊天系统实体表</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> official_agent ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> <span class="keyword">groups</span> ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> message ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> conversation_message ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> group_message ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> request ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> evaluation ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> comments ;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> question ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--创建店铺表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> store(</span><br><span class="line">   store_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">   store_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">   tag <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">   profile_photo  <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">   seller_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">   address <span class="type">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">   sales <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">   vis_num <span class="type">INT</span>,</span><br><span class="line">   ord_num <span class="type">INT</span>,</span><br><span class="line">   tr_rate <span class="type">INT</span>,</span><br><span class="line">   candidate_num <span class="type">INT</span>,</span><br><span class="line">   Lv <span class="type">INT</span>,</span><br><span class="line">   credit <span class="type">INT</span>,</span><br><span class="line">   ct_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">   sub_account <span class="type">INT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--创建商品表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> commodity(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    category <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">	dis_price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    num <span class="type">INT</span>,</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    detail <span class="type">VARCHAR</span>(<span class="number">2000</span>),</span><br><span class="line">    after_sale <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    up_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    com_image <span class="type">VARCHAR</span>(<span class="number">500</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--创建活动表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> discount(</span><br><span class="line">    dis_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    st_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    end_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    allowance <span class="type">DOUBLE PRECISION</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--创建商品历史价格表（弱实体）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> historical_price(</span><br><span class="line">	com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	<span class="type">time</span> <span class="type">TIMESTAMP</span>,</span><br><span class="line">	price <span class="type">DOUBLE PRECISION</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--创建店铺评分（弱实体）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> mark(</span><br><span class="line">    store_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    quality <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    service <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    distribution <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    com_score <span class="type">DOUBLE PRECISION</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--创建商品物流（弱实体）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> logistics(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    deadline <span class="type">TIMESTAMP</span>,</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    comp_name <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    send_addr <span class="type">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    receive_addr <span class="type">VARCHAR</span>(<span class="number">50</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--商品子类表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> food(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    category <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">	dis_price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    num <span class="type">INT</span>,</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    detail <span class="type">VARCHAR</span>(<span class="number">2000</span>),</span><br><span class="line">    after_sale <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    up_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    com_image <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    shelf_life <span class="type">INT</span>,</span><br><span class="line">    weight <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    taste <span class="type">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">table</span> cloth(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    category <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">	dis_price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    num <span class="type">INT</span>,</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    detail <span class="type">VARCHAR</span>(<span class="number">2000</span>),</span><br><span class="line">    after_sale <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    up_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    com_image <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    type <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    size <span class="type">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ele_appliment(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    category <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">	dis_price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    num <span class="type">INT</span>,</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    detail <span class="type">VARCHAR</span>(<span class="number">2000</span>),</span><br><span class="line">    after_sale <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    up_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    com_image <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    paymentway <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    type <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    memory <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    safegaurd <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    net_type <span class="type">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> ele_product(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    category <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">	dis_price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    num <span class="type">INT</span>,</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    detail <span class="type">VARCHAR</span>(<span class="number">2000</span>),</span><br><span class="line">    after_sale <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    up_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    com_image <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    paymentway <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    type <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    safegaurd <span class="type">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> makeup(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    category <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">	dis_price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    num <span class="type">INT</span>,</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    detail <span class="type">VARCHAR</span>(<span class="number">2000</span>),</span><br><span class="line">    after_sale <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    up_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    com_image <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    type <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    weight <span class="type">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sport(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    category <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">	dis_price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    num <span class="type">INT</span>,</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    detail <span class="type">VARCHAR</span>(<span class="number">2000</span>),</span><br><span class="line">    after_sale <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    up_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    com_image <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    type <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    size <span class="type">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> toy(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    category <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">	dis_price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    num <span class="type">INT</span>,</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    detail <span class="type">VARCHAR</span>(<span class="number">2000</span>),</span><br><span class="line">    after_sale <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    up_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    com_image <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    type <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    suit_age <span class="type">INT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> daily_necessarity(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    category <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">	dis_price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    num <span class="type">INT</span>,</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    detail <span class="type">VARCHAR</span>(<span class="number">2000</span>),</span><br><span class="line">    after_sale <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    up_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    com_image <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    type <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    weight <span class="type">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> other(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    category <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">	dis_price <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    num <span class="type">INT</span>,</span><br><span class="line">    detail <span class="type">VARCHAR</span>(<span class="number">2000</span>),</span><br><span class="line">    after_sale <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    up_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    com_image <span class="type">VARCHAR</span>(<span class="number">500</span>),</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">200</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--交易系统的关系</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--店铺和商品的关系</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sell(</span><br><span class="line">    store_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    st_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (store_id,com_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (store_id) <span class="keyword">REFERENCES</span> store (store_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (com_id) <span class="keyword">REFERENCES</span> commodity (com_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--商品和活动的关系</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> hold_(</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    dis_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (com_id,dis_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (com_id) <span class="keyword">REFERENCES</span> commodity (com_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (dis_id) <span class="keyword">REFERENCES</span> discount (dis_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--创建订单表</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> order_(</span><br><span class="line">    order_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    real_pay <span class="type">DOUBLE PRECISION</span>,</span><br><span class="line">    ct_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    pay_time <span class="type">TIMESTAMP</span>,</span><br><span class="line">    state <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    pickup_code <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    description <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    com_num <span class="type">INT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 用户系统</span></span><br><span class="line"><span class="comment">-- 创建用户表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> users (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    user_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    password_ <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (LENGTH(password_) <span class="operator">&gt;=</span> <span class="number">8</span>),</span><br><span class="line">    gender <span class="type">CHAR</span>(<span class="number">1</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (gender <span class="keyword">IN</span> (<span class="string">&#x27;M&#x27;</span>,<span class="string">&#x27;F&#x27;</span>)),</span><br><span class="line">    telephone <span class="type">CHAR</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	type_ <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,<span class="keyword">CHECK</span> (type_ <span class="keyword">IN</span> (<span class="string">&#x27;consumer&#x27;</span>,<span class="string">&#x27;seller&#x27;</span>))	</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建消费者表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY, </span><br><span class="line">    user_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    password_ <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (LENGTH(password_) <span class="operator">&gt;=</span> <span class="number">8</span>),</span><br><span class="line">    gender <span class="type">CHAR</span>(<span class="number">1</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (gender <span class="keyword">IN</span> (<span class="string">&#x27;M&#x27;</span>,<span class="string">&#x27;F&#x27;</span>)),</span><br><span class="line">    telephone <span class="type">CHAR</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    membership <span class="type">BOOLEAN</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    credit <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (credit <span class="operator">&gt;=</span> <span class="number">0</span>),</span><br><span class="line">    headshot <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>, <span class="comment">-- 存储用户头像的地址</span></span><br><span class="line">    fan_number <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (fan_number <span class="operator">&gt;=</span> <span class="number">0</span>),</span><br><span class="line">    focus_number <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (focus_number <span class="operator">&gt;=</span> <span class="number">0</span>),</span><br><span class="line">    likes <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (likes <span class="operator">&gt;=</span> <span class="number">0</span>),</span><br><span class="line">    change <span class="type">DOUBLE PRECISION</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (change <span class="operator">&gt;=</span> <span class="number">0</span>), <span class="comment">-- 零钱</span></span><br><span class="line">    shopping_coin <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (shopping_coin <span class="operator">&gt;=</span> <span class="number">0</span>),</span><br><span class="line">    alipay <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	type_ <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,<span class="keyword">CHECK</span> (type_ <span class="operator">=</span> <span class="string">&#x27;consumer&#x27;</span>),</span><br><span class="line">	shopping_cart <span class="type">VARCHAR</span>(<span class="number">3000</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建卖家表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> seller (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY, </span><br><span class="line">    user_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    password_ <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (LENGTH(password_) <span class="operator">&gt;=</span> <span class="number">8</span>),</span><br><span class="line">    gender <span class="type">CHAR</span>(<span class="number">1</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (gender <span class="keyword">IN</span> (<span class="string">&#x27;M&#x27;</span>,<span class="string">&#x27;F&#x27;</span>)),</span><br><span class="line">    telephone <span class="type">CHAR</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	type_ <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,<span class="keyword">CHECK</span> (type_ <span class="operator">=</span> <span class="string">&#x27;seller&#x27;</span>),</span><br><span class="line">    service_authority <span class="type">BOOLEAN</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    operator_authority <span class="type">BOOLEAN</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建红包表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> red_packet (</span><br><span class="line">    red_packet_id SERIAL <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    name_ <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    value_ <span class="type">DOUBLE PRECISION</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    condition_ <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    end_date <span class="type">DATE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建优惠券表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> coupon (</span><br><span class="line">    coupon_id SERIAL <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    store_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>, </span><br><span class="line">    value_ <span class="type">DOUBLE PRECISION</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    condition_ <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    end_date <span class="type">DATE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (store_id) <span class="keyword">REFERENCES</span> store (store_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建淘宝历程表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> taobao_history (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    register_date <span class="type">DATE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    total_days <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (total_days <span class="operator">&gt;=</span> <span class="number">0</span>),</span><br><span class="line">    save_money <span class="type">DOUBLE PRECISION</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (save_money <span class="operator">&gt;=</span> <span class="number">0</span>),</span><br><span class="line">    month_spend_money <span class="type">DOUBLE PRECISION</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (month_spend_money <span class="operator">&gt;=</span> <span class="number">0</span>),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建收货地址表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> address (</span><br><span class="line">    address_id SERIAL <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    name_ <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    telephone <span class="type">CHAR</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    address <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建档案表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> archive (</span><br><span class="line">    archive_id SERIAL <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    height <span class="type">DOUBLE PRECISION</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (height <span class="operator">&gt;</span> <span class="number">0</span>),</span><br><span class="line">    weight <span class="type">DOUBLE PRECISION</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (weight <span class="operator">&gt;</span> <span class="number">0</span>),</span><br><span class="line">    shoe_size <span class="type">DOUBLE PRECISION</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (shoe_size <span class="operator">&gt;=</span> <span class="number">16</span> <span class="keyword">and</span> shoe_size <span class="operator">&lt;=</span> <span class="number">45</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建好友关系表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> friendship (</span><br><span class="line">    user1_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    user2_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    accept_date <span class="type">DATE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (user1_id, user2_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (user1_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (user2_id) <span class="keyword">REFERENCES</span> consumer (user_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建收货地址总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_register_address (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    address_id SERIAL <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	common_address <span class="type">BOOLEAN</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY (user_id, address_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (address_id) <span class="keyword">REFERENCES</span> address (address_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建粉丝列表总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> fan (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    fan_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY (user_id, fan_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (fan_id) <span class="keyword">REFERENCES</span> consumer (user_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建关注列表总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> user_focus_user (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    focus_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY (user_id, focus_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (focus_id) <span class="keyword">REFERENCES</span> consumer (user_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建用户红包关系表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_recieve_redpacket (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    red_packet_id SERIAL <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY (user_id, red_packet_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (red_packet_id) <span class="keyword">REFERENCES</span> red_packet (red_packet_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建用户优惠券关系表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_get_coupon (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    coupon_id SERIAL <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY (user_id, coupon_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (coupon_id) <span class="keyword">REFERENCES</span> coupon (coupon_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建主账号和子账号关系表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> manage_subaccount (</span><br><span class="line">    main_user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    sub_user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY (main_user_id,sub_user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (main_user_id) <span class="keyword">REFERENCES</span> seller (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (sub_user_id) <span class="keyword">REFERENCES</span> seller (user_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--用户档案索引表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_have_archive (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    archive_id SERIAL <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY (user_id,archive_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (archive_id) <span class="keyword">REFERENCES</span> archive (archive_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--消费者收藏表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">collect</span> (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    collect_time <span class="type">DATE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (user_id,com_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (com_id) <span class="keyword">REFERENCES</span> commodity (com_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--消费者浏览记录表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> watching_history (</span><br><span class="line">    user_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    com_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    watch_time <span class="type">DATE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (user_id,com_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (com_id) <span class="keyword">REFERENCES</span> commodity (com_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 聊天反馈系统</span></span><br><span class="line"><span class="comment">-- 创建官方客服总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> official_agent(</span><br><span class="line">	official_agent_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	telephone <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	start_date <span class="type">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	end_date <span class="type">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建群组总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">groups</span>(</span><br><span class="line">	group_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	group_name <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	created_date <span class="type">TIMESTAMP</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	description <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	member_num <span class="type">INT</span> <span class="keyword">CHECK</span>(member_num <span class="operator">&gt;=</span> <span class="number">0</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建消息总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> message(</span><br><span class="line">	message_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	message_type <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">CHECK</span> (message_type <span class="keyword">IN</span> (<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;语音&#x27;</span>,<span class="string">&#x27;图片&#x27;</span>,<span class="string">&#x27;视频&#x27;</span>)),</span><br><span class="line">	message_content <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	message_date <span class="type">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建对话消息总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> conversation_message(</span><br><span class="line">	message_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	message_type <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">CHECK</span> (message_type <span class="keyword">IN</span> (<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;语音&#x27;</span>,<span class="string">&#x27;图片&#x27;</span>,<span class="string">&#x27;视频&#x27;</span>)),</span><br><span class="line">	message_content <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	message_date <span class="type">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	isread <span class="type">BOOLEAN</span>  <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建群组消息总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> group_message(</span><br><span class="line">	message_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	message_type <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">CHECK</span> (message_type <span class="keyword">IN</span> (<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;语音&#x27;</span>,<span class="string">&#x27;图片&#x27;</span>,<span class="string">&#x27;视频&#x27;</span>)),</span><br><span class="line">	message_content <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	message_date <span class="type">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建请求总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> request(</span><br><span class="line">	request_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	request_status <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">CHECK</span> (request_status <span class="keyword">IN</span> (<span class="string">&#x27;未处理&#x27;</span>,<span class="string">&#x27;已接受&#x27;</span>,<span class="string">&#x27;已拒绝&#x27;</span>)),</span><br><span class="line">	request_description <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	request_date <span class="type">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建用户评价总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> evaluation(</span><br><span class="line">	evaluation_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	evaluation_content_type <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">CHECK</span> (evaluation_content_type <span class="keyword">IN</span> (<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;图片&#x27;</span>,<span class="string">&#x27;视频&#x27;</span>)),</span><br><span class="line">	evaluation_content <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	isanonymous <span class="type">BOOLEAN</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	evaluation_type <span class="type">CHAR</span>(<span class="number">1</span>) <span class="keyword">CHECK</span> (evaluation_type <span class="keyword">IN</span> (<span class="string">&#x27;好&#x27;</span>,<span class="string">&#x27;差&#x27;</span>)),</span><br><span class="line">	evaluated_date <span class="type">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	isfollow <span class="type">BOOLEAN</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	likes <span class="type">INT</span> <span class="keyword">CHECK</span> (likes <span class="operator">&gt;=</span> <span class="number">0</span>),</span><br><span class="line">	comment_num <span class="type">INT</span> <span class="keyword">CHECK</span> (comment_num <span class="operator">&gt;=</span><span class="number">0</span>),</span><br><span class="line">	comprehensive_evaluation <span class="type">INT</span> <span class="keyword">check</span>(comprehensive_evaluation <span class="keyword">IN</span> (<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)),</span><br><span class="line">	description_match <span class="type">INT</span> <span class="keyword">check</span>(description_match <span class="keyword">IN</span> (<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)),</span><br><span class="line">	logistics_service <span class="type">INT</span> <span class="keyword">check</span>(logistics_service <span class="keyword">IN</span> (<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)),</span><br><span class="line">	service_attitude <span class="type">INT</span> <span class="keyword">check</span>(service_attitude <span class="keyword">IN</span> (<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建用户评论总表(弱实体)</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> comments(</span><br><span class="line">	evaluation_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	user_id <span class="type">VARCHAR</span>(<span class="number">30</span>),</span><br><span class="line">	comment_date <span class="type">TIMESTAMP</span>,</span><br><span class="line">	comment_type <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">CHECK</span> (comment_type <span class="keyword">IN</span> (<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;图片&#x27;</span>,<span class="string">&#x27;视频&#x27;</span>)),</span><br><span class="line">	comment_content <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	likes <span class="type">INT</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(evaluation_id, user_id, comment_date),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (evaluation_id) <span class="keyword">REFERENCES</span> evaluation (evaluation_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建问题总表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> question(</span><br><span class="line">	question_id <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	question_content <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	question_date <span class="type">TIMESTAMP</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	reply_num <span class="type">INT</span> <span class="keyword">CHECK</span>(reply_num <span class="operator">&gt;=</span> <span class="number">0</span>)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建好友聊天消息索引表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> friend_and_friend(</span><br><span class="line">	sender_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	receiver_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	message_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(sender_id, receiver_id, message_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (sender_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (receiver_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (message_id) <span class="keyword">REFERENCES</span> conversation_message (message_id)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建卖家和客服消息索引表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> seller_and_agent(</span><br><span class="line">	seller_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	official_agent_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	message_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	sender <span class="type">BOOLEAN</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>, <span class="comment">--0表示卖家发的，1表示客服发的</span></span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(seller_id, official_agent_id, message_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (seller_id) <span class="keyword">REFERENCES</span> seller (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (official_agent_id) <span class="keyword">REFERENCES</span> official_agent (official_agent_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (message_id) <span class="keyword">REFERENCES</span> conversation_message (message_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建消费者和客服消息索引表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_and_agent(</span><br><span class="line">	consumer_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	official_agent_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	message_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	sender <span class="type">BOOLEAN</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>, <span class="comment">--0表示消费者发的，1表示客服发的</span></span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(consumer_id, official_agent_id, message_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (consumer_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (official_agent_id) <span class="keyword">REFERENCES</span> official_agent (official_agent_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (message_id) <span class="keyword">REFERENCES</span> conversation_message (message_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建消费者和卖家消息索引表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_and_seller(</span><br><span class="line">	consumer_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	seller_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	message_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	sender <span class="type">BOOLEAN</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>, <span class="comment">--0表示消费者发的，1表示卖家发的</span></span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(consumer_id, seller_id, message_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (consumer_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (seller_id) <span class="keyword">REFERENCES</span> seller (user_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (message_id) <span class="keyword">REFERENCES</span> conversation_message (message_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建群组消息索引表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> member_and_member(</span><br><span class="line">	group_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	sender_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	message_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(group_id, sender_id, message_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (group_id) <span class="keyword">REFERENCES</span> <span class="keyword">groups</span> (group_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (sender_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (message_id) <span class="keyword">REFERENCES</span> group_message (message_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建群组成员表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> group_members(</span><br><span class="line">	group_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	role <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">CHECK</span> (role <span class="keyword">IN</span> (<span class="string">&#x27;群主&#x27;</span>,<span class="string">&#x27;管理员&#x27;</span>,<span class="string">&#x27;普通成员&#x27;</span>)),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(group_id, user_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (group_id) <span class="keyword">REFERENCES</span> <span class="keyword">groups</span> (group_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建好友请求表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> friend_request(</span><br><span class="line">	request_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	sender_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	receiver_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(request_id, sender_id, receiver_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (request_id) <span class="keyword">REFERENCES</span> request (request_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (sender_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (receiver_id) <span class="keyword">REFERENCES</span> consumer (user_id)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建入群请求表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> group_request(</span><br><span class="line">	request_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	group_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(request_id, group_id, user_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (request_id) <span class="keyword">REFERENCES</span> request (request_id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (group_id) <span class="keyword">REFERENCES</span> <span class="keyword">groups</span> (group_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建卖家回评表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> reply(</span><br><span class="line">	evaluation_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	reply_date <span class="type">DATE</span>,</span><br><span class="line">	reply_type <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">CHECK</span> (reply_type <span class="keyword">IN</span> (<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;图片&#x27;</span>,<span class="string">&#x27;视频&#x27;</span>)),</span><br><span class="line">	reply_content <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	likes <span class="type">INT</span> <span class="keyword">CHECK</span>(likes <span class="operator">&gt;=</span> <span class="number">0</span>),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(evaluation_id, user_id, reply_date),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (evaluation_id) <span class="keyword">REFERENCES</span> evaluation (evaluation_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> seller (user_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建消费者评价关系表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_give_evaluation(</span><br><span class="line">	evaluation_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	com_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(evaluation_id, user_id, com_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (evaluation_id) <span class="keyword">REFERENCES</span> evaluation (evaluation_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (com_id) <span class="keyword">REFERENCES</span> commodity (com_id)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建消费者提问关系表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_ask_question(</span><br><span class="line">	question_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	com_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(question_id, user_id, com_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (question_id) <span class="keyword">REFERENCES</span> question (question_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (com_id) <span class="keyword">REFERENCES</span> commodity (com_id)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建消费者回答问题表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_reply_question(</span><br><span class="line">	question_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	reply_date <span class="type">TIMESTAMP</span>,</span><br><span class="line">	reply_content <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(question_id, user_id, reply_date),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (question_id) <span class="keyword">REFERENCES</span> question (question_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 创建消费者关注问题表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_focus_question(</span><br><span class="line">	question_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	focus_date <span class="type">TIMESTAMP</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">	<span class="keyword">PRIMARY</span> KEY(question_id, user_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (question_id) <span class="keyword">REFERENCES</span> question (question_id),</span><br><span class="line">	<span class="keyword">FOREIGN</span> KEY (user_id) <span class="keyword">REFERENCES</span> consumer (user_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--视图</span></span><br><span class="line"><span class="comment">--商品各种类别的视图</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> com_food <span class="keyword">AS</span> <span class="keyword">SELECT</span> commodity.com_name, commodity.price, commodity.dis_price, commodity.description, commodity.detail, commodity.com_image, shelf_life, weight, taste</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> food <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> food.com_id</span><br><span class="line">						<span class="keyword">where</span> commodity.category <span class="operator">=</span> <span class="string">&#x27;food&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> com_food;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> com_cloth <span class="keyword">AS</span> <span class="keyword">SELECT</span> commodity.com_name, commodity.price, commodity.dis_price, commodity.description, commodity.detail, commodity.com_image, type, size</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> cloth <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> cloth.com_id</span><br><span class="line">						<span class="keyword">where</span> commodity.category <span class="operator">=</span> <span class="string">&#x27;cloth&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> com_cloth;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> com_ele_appliment <span class="keyword">AS</span> <span class="keyword">SELECT</span> commodity.com_name, commodity.price, commodity.dis_price, commodity.description, commodity.detail, commodity.com_image, paymentway, type, memory, safegaurd, net_type</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> ele_appliment <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> ele_appliment.com_id</span><br><span class="line">						<span class="keyword">where</span> commodity.category <span class="operator">=</span> <span class="string">&#x27;ele_appliment&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> com_ele_appliment;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> com_ele_product <span class="keyword">AS</span> <span class="keyword">SELECT</span> commodity.com_name, commodity.price, commodity.dis_price, commodity.description, commodity.detail, commodity.com_image, paymentway, type, safegaurd</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> ele_product <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> ele_product.com_id</span><br><span class="line">						<span class="keyword">where</span> commodity.category <span class="operator">=</span> <span class="string">&#x27;ele_product&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> com_ele_product;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> com_makeup <span class="keyword">AS</span> <span class="keyword">SELECT</span> commodity.com_name, commodity.price, commodity.dis_price, commodity.description, commodity.detail, commodity.com_image, type, weight</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> makeup <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> makeup.com_id</span><br><span class="line">						<span class="keyword">where</span> commodity.category <span class="operator">=</span> <span class="string">&#x27;makeup&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> com_makeup;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> com_sport <span class="keyword">AS</span> <span class="keyword">SELECT</span> commodity.com_name, commodity.price, commodity.dis_price, commodity.description, commodity.detail, commodity.com_image, type, size</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> sport <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> sport.com_id</span><br><span class="line">						<span class="keyword">where</span> commodity.category <span class="operator">=</span> <span class="string">&#x27;sport&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> com_sport;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> com_toy <span class="keyword">AS</span> <span class="keyword">SELECT</span> commodity.com_name, commodity.price, commodity.dis_price, commodity.description, commodity.detail, commodity.com_image, type, suit_age</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> toy <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> toy.com_id</span><br><span class="line">						<span class="keyword">where</span> commodity.category <span class="operator">=</span> <span class="string">&#x27;toy&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> com_toy;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> com_daily_necessarity <span class="keyword">AS</span> <span class="keyword">SELECT</span> commodity.com_name, commodity.price, commodity.dis_price, commodity.description, commodity.detail, commodity.com_image, type, weight</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> daily_necessarity <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> daily_necessarity.com_id</span><br><span class="line">						<span class="keyword">where</span> commodity.category <span class="operator">=</span> <span class="string">&#x27;daily_necessarity&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> com_daily_necessarity;</span><br><span class="line"><span class="comment">--店铺所拥有的商品创建视图（改store_id）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> com_of_store <span class="keyword">AS</span> <span class="keyword">SELECT</span> com_name, category, num, price, dis_price, description, detail, com_image, after_sale, up_time</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> sell <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> sell.com_id</span><br><span class="line">						<span class="keyword">where</span> store_id <span class="operator">=</span> <span class="string">&#x27;012345678&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> com_of_store;</span><br><span class="line"><span class="comment">--每个消费者的浏览记录创建视图（改user_id）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> personal_browsing_history <span class="keyword">AS</span> <span class="keyword">SELECT</span> com_name, price, dis_price, description, detail, com_image, watch_time</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> watching_history <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> watching_history.com_id</span><br><span class="line">						<span class="keyword">where</span> user_id <span class="operator">=</span> <span class="string">&#x27;000111111&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> personal_browsing_history;</span><br><span class="line"><span class="comment">--每个商品过去30天的历史价格创建视图</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> historical_commodity_price <span class="keyword">AS</span> <span class="keyword">SELECT</span> com_name, price, <span class="type">time</span></span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> historical_price <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> historical_price.com_id</span><br><span class="line">						<span class="keyword">where</span> com_id <span class="operator">=</span> <span class="string">&#x27;54645645645&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> historical_commodity_price;</span><br><span class="line"><span class="comment">--每个消费者的收藏记录创建视图（改user_id）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> personal_collect_history <span class="keyword">AS</span> <span class="keyword">SELECT</span> com_name, price, dis_price, description, detail, com_image, collect_time</span><br><span class="line">						<span class="keyword">FROM</span> commodity <span class="keyword">join</span> <span class="keyword">collect</span> <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> collect.com_id</span><br><span class="line">						<span class="keyword">where</span> user_id <span class="operator">=</span> <span class="string">&#x27;000111111&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> personal_collect_history;</span><br><span class="line"><span class="comment">--每个消费者的订单创建视图（改user_id）</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> personal_order <span class="keyword">AS</span> <span class="keyword">SELECT</span> com_name, real_pay, pay_time, order_.description, detail, com_image, com_num, pickup_code</span><br><span class="line">						<span class="keyword">FROM</span> order_ <span class="keyword">join</span> commodity <span class="keyword">on</span> commodity.com_id <span class="operator">=</span> order_.com_id</span><br><span class="line">						<span class="keyword">where</span> user_id <span class="operator">=</span> <span class="string">&#x27;000111111&#x27;</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> personal_order;</span><br><span class="line"><span class="comment">--为好友的聊天记录创建视图(user_id)</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> chat_history <span class="keyword">AS</span> <span class="keyword">SELECT</span> message_content, message_date</span><br><span class="line">						<span class="keyword">FROM</span> conversation_message <span class="keyword">join</span> friend_and_friend <span class="keyword">on</span> conversation_message.message_id <span class="operator">=</span> friend_and_friend.message_id</span><br><span class="line">						<span class="keyword">where</span> (sender_id <span class="operator">=</span> <span class="string">&#x27;tb12345&#x27;</span> <span class="keyword">AND</span> receiver_id <span class="operator">=</span> <span class="string">&#x27;tb12342&#x27;</span>) <span class="keyword">OR</span>  (sender_id <span class="operator">=</span> <span class="string">&#x27;tb12342&#x27;</span> <span class="keyword">AND</span> receiver_id <span class="operator">=</span> <span class="string">&#x27;tb12345&#x27;</span>)</span><br><span class="line">						<span class="keyword">order</span> <span class="keyword">by</span> message_date;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> chat_history;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> com_food;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> com_cloth;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> com_ele_appliment;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> com_ele_product;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> com_makeup;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> com_sport;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> com_toy;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> com_daily_necessarity;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> chat_history;</span><br><span class="line"></span><br><span class="line"><span class="comment">--订单表物流表触发器</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> order_insert_trigger()</span><br><span class="line"><span class="keyword">RETURNS</span> <span class="keyword">TRIGGER</span> <span class="keyword">AS</span> $$</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> logistics (com_id)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id);</span><br><span class="line">    <span class="keyword">RETURN</span> <span class="keyword">NEW</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$ <span class="keyword">LANGUAGE</span> plpgsql;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> insert_order_trigger</span><br><span class="line">AFTER <span class="keyword">INSERT</span> <span class="keyword">ON</span> order_</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">EXECUTE</span> <span class="keyword">FUNCTION</span> order_insert_trigger();</span><br><span class="line"></span><br><span class="line"><span class="comment">--删除触发器</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TRIGGER</span> insert_order_trigger <span class="keyword">ON</span> order_</span><br><span class="line"></span><br><span class="line"><span class="comment">--商品表发生变化历史价格表变化触发器</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> history_insert_trigger()</span><br><span class="line"><span class="keyword">RETURNS</span> <span class="keyword">TRIGGER</span> <span class="keyword">AS</span> $$</span><br><span class="line"><span class="keyword">BEGIN</span> </span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> historical_price (com_id,<span class="type">time</span>,price)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id,NOW(),NEW.price);</span><br><span class="line">    <span class="keyword">RETURN</span> <span class="keyword">NEW</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$ <span class="keyword">LANGUAGE</span> plpgsql;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> insert_history_trigger</span><br><span class="line">AFTER <span class="keyword">UPDATE</span> <span class="keyword">ON</span> commodity</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">EXECUTE</span> <span class="keyword">FUNCTION</span> history_insert_trigger();</span><br><span class="line"></span><br><span class="line"><span class="comment">--删除触发器</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TRIGGER</span> insert_history_trigger <span class="keyword">ON</span> commodity</span><br><span class="line"></span><br><span class="line"><span class="comment">--商品大表与子表触发器</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> insert_comsubtable_function()</span><br><span class="line">  <span class="keyword">RETURNS</span> <span class="keyword">TRIGGER</span> <span class="keyword">AS</span> $$</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="comment">-- 判断商品类别</span></span><br><span class="line">  IF NEW.category <span class="operator">=</span> <span class="string">&#x27;food&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新food</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> food(com_id,com_name,category,price,dis_price,num,description,detail,after_sale,up_time,com_image)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id,NEW.com_name,NEW.category,NEW.price,NEW.dis_price,NEW.num,NEW.description,NEW.detail,NEW.after_sale,NEW.up_time,NEW.com_image);</span><br><span class="line">  ELSIF NEW.category <span class="operator">=</span> <span class="string">&#x27;cloth&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新cloth</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> cloth(com_id,com_name,category,price,dis_price,num,description,detail,after_sale,up_time,com_image)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id,NEW.com_name,NEW.category,NEW.price,NEW.dis_price,NEW.num,NEW.description,NEW.detail,NEW.after_sale,NEW.up_time,NEW.com_image);</span><br><span class="line">  ELSIF NEW.category <span class="operator">=</span> <span class="string">&#x27;ele_appliment&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新ele_appliment</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> ele_appliment(com_id,com_name,category,price,dis_price,num,description,detail,after_sale,up_time,com_image)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id,NEW.com_name,NEW.category,NEW.price,NEW.dis_price,NEW.num,NEW.description,NEW.detail,NEW.after_sale,NEW.up_time,NEW.com_image);</span><br><span class="line">  ELSIF NEW.category <span class="operator">=</span> <span class="string">&#x27;ele_product&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新ele_product</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> ele_product(com_id,com_name,category,price,dis_price,num,description,detail,after_sale,up_time,com_image)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id,NEW.com_name,NEW.category,NEW.price,NEW.dis_price,NEW.num,NEW.description,NEW.detail,NEW.after_sale,NEW.up_time,NEW.com_image);</span><br><span class="line">  ELSIF NEW.category <span class="operator">=</span> <span class="string">&#x27;makeup&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新makeup</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> makeup(com_id,com_name,category,price,dis_price,num,description,detail,after_sale,up_time,com_image)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id,NEW.com_name,NEW.category,NEW.price,NEW.dis_price,NEW.num,NEW.description,NEW.detail,NEW.after_sale,NEW.up_time,NEW.com_image);</span><br><span class="line">  ELSIF NEW.category <span class="operator">=</span> <span class="string">&#x27;sport&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新sport</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> sport(com_id,com_name,category,price,dis_price,num,description,detail,after_sale,up_time,com_image)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id,NEW.com_name,NEW.category,NEW.price,NEW.dis_price,NEW.num,NEW.description,NEW.detail,NEW.after_sale,NEW.up_time,NEW.com_image);</span><br><span class="line">  ELSIF NEW.category <span class="operator">=</span> <span class="string">&#x27;toy&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新toy</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> toy(com_id,com_name,category,price,dis_price,num,description,detail,after_sale,up_time,com_image)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id,NEW.com_name,NEW.category,NEW.price,NEW.dis_price,NEW.num,NEW.description,NEW.detail,NEW.after_sale,NEW.up_time,NEW.com_image);</span><br><span class="line">  ELSIF NEW.category <span class="operator">=</span> <span class="string">&#x27;daily_necessarity&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新daily_necessarity</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> daily_necessarity(com_id,com_name,category,price,dis_price,num,description,detail,after_sale,up_time,com_image)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id,NEW.com_name,NEW.category,NEW.price,NEW.dis_price,NEW.num,NEW.description,NEW.detail,NEW.after_sale,NEW.up_time,NEW.com_image);</span><br><span class="line">  <span class="keyword">ELSE</span> </span><br><span class="line">    <span class="comment">-- 更新other</span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> other(com_id,com_name,category,price,dis_price,num,description,detail,after_sale,up_time,com_image)</span><br><span class="line">    <span class="keyword">VALUES</span> (NEW.com_id,NEW.com_name,NEW.category,NEW.price,NEW.dis_price,NEW.num,NEW.description,NEW.detail,NEW.after_sale,NEW.up_time,NEW.com_image);</span><br><span class="line">  <span class="keyword">END</span> IF;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">RETURN</span> <span class="keyword">NEW</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$ <span class="keyword">LANGUAGE</span> plpgsql;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> insert_comsubtable_trigger</span><br><span class="line">AFTER <span class="keyword">INSERT</span> <span class="keyword">ON</span> commodity</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">EXECUTE</span> <span class="keyword">FUNCTION</span> insert_comsubtable_function();</span><br><span class="line">								  </span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TRIGGER</span> insert_comsubtable_trigger <span class="keyword">ON</span> commodity</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> update_comsubtable_function()</span><br><span class="line">  <span class="keyword">RETURNS</span> <span class="keyword">TRIGGER</span> <span class="keyword">AS</span> $$</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="comment">-- 判断商品类别</span></span><br><span class="line">  IF OLD.category <span class="operator">=</span> <span class="string">&#x27;food&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新food</span></span><br><span class="line">    <span class="keyword">UPDATE</span> food</span><br><span class="line">    <span class="keyword">SET</span> com_name<span class="operator">=</span>NEW.com_name,category<span class="operator">=</span>NEW.category,price<span class="operator">=</span>NEW.price,dis_price<span class="operator">=</span>NEW.dis_price,num<span class="operator">=</span>NEW.num,</span><br><span class="line">    description<span class="operator">=</span>NEW.description,detail<span class="operator">=</span>NEW.detail,after_sale<span class="operator">=</span>NEW.after_sale,up_time<span class="operator">=</span>NEW.up_time,com_image<span class="operator">=</span>NEW.com_image</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>NEW.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;cloth&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新cloth</span></span><br><span class="line">    <span class="keyword">UPDATE</span> cloth</span><br><span class="line">    <span class="keyword">SET</span> com_name<span class="operator">=</span>NEW.com_name,category<span class="operator">=</span>NEW.category,price<span class="operator">=</span>NEW.price,dis_price<span class="operator">=</span>NEW.dis_price,num<span class="operator">=</span>NEW.num,</span><br><span class="line">    description<span class="operator">=</span>NEW.description,detail<span class="operator">=</span>NEW.detail,after_sale<span class="operator">=</span>NEW.after_sale,up_time<span class="operator">=</span>NEW.up_time,com_image<span class="operator">=</span>NEW.com_image</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>NEW.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;ele_appliment&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新ele_appliment</span></span><br><span class="line">    <span class="keyword">UPDATE</span> ele_appliment</span><br><span class="line">    <span class="keyword">SET</span> com_name<span class="operator">=</span>NEW.com_name,category<span class="operator">=</span>NEW.category,price<span class="operator">=</span>NEW.price,dis_price<span class="operator">=</span>NEW.dis_price,num<span class="operator">=</span>NEW.num,</span><br><span class="line">    description<span class="operator">=</span>NEW.description,detail<span class="operator">=</span>NEW.detail,after_sale<span class="operator">=</span>NEW.after_sale,up_time<span class="operator">=</span>NEW.up_time,com_image<span class="operator">=</span>NEW.com_image</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>NEW.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;ele_product&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新ele_product</span></span><br><span class="line">    <span class="keyword">UPDATE</span> ele_product</span><br><span class="line">    <span class="keyword">SET</span> com_name<span class="operator">=</span>NEW.com_name,category<span class="operator">=</span>NEW.category,price<span class="operator">=</span>NEW.price,dis_price<span class="operator">=</span>NEW.dis_price,num<span class="operator">=</span>NEW.num,</span><br><span class="line">    description<span class="operator">=</span>NEW.description,detail<span class="operator">=</span>NEW.detail,after_sale<span class="operator">=</span>NEW.after_sale,up_time<span class="operator">=</span>NEW.up_time,com_image<span class="operator">=</span>NEW.com_image</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>NEW.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;makeup&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新makeup</span></span><br><span class="line">    <span class="keyword">UPDATE</span> makeup</span><br><span class="line">    <span class="keyword">SET</span> com_name<span class="operator">=</span>NEW.com_name,category<span class="operator">=</span>NEW.category,price<span class="operator">=</span>NEW.price,dis_price<span class="operator">=</span>NEW.dis_price,num<span class="operator">=</span>NEW.num,</span><br><span class="line">    description<span class="operator">=</span>NEW.description,detail<span class="operator">=</span>NEW.detail,after_sale<span class="operator">=</span>NEW.after_sale,up_time<span class="operator">=</span>NEW.up_time,com_image<span class="operator">=</span>NEW.com_image</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>NEW.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;sport&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新sport</span></span><br><span class="line">    <span class="keyword">UPDATE</span> sport</span><br><span class="line">    <span class="keyword">SET</span> com_name<span class="operator">=</span>NEW.com_name,category<span class="operator">=</span>NEW.category,price<span class="operator">=</span>NEW.price,dis_price<span class="operator">=</span>NEW.dis_price,num<span class="operator">=</span>NEW.num,</span><br><span class="line">    description<span class="operator">=</span>NEW.description,detail<span class="operator">=</span>NEW.detail,after_sale<span class="operator">=</span>NEW.after_sale,up_time<span class="operator">=</span>NEW.up_time,com_image<span class="operator">=</span>NEW.com_image</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>NEW.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;toy&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新toy</span></span><br><span class="line">    <span class="keyword">UPDATE</span> toy</span><br><span class="line">    <span class="keyword">SET</span> com_name<span class="operator">=</span>NEW.com_name,category<span class="operator">=</span>NEW.category,price<span class="operator">=</span>NEW.price,dis_price<span class="operator">=</span>NEW.dis_price,num<span class="operator">=</span>NEW.num,</span><br><span class="line">    description<span class="operator">=</span>NEW.description,detail<span class="operator">=</span>NEW.detail,after_sale<span class="operator">=</span>NEW.after_sale,up_time<span class="operator">=</span>NEW.up_time,com_image<span class="operator">=</span>NEW.com_image</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>NEW.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;daily_necessarity&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新daily_necessarity</span></span><br><span class="line">    <span class="keyword">UPDATE</span> daily_necessarity</span><br><span class="line">    <span class="keyword">SET</span> com_name<span class="operator">=</span>NEW.com_name,category<span class="operator">=</span>NEW.category,price<span class="operator">=</span>NEW.price,dis_price<span class="operator">=</span>NEW.dis_price,num<span class="operator">=</span>NEW.num,</span><br><span class="line">    description<span class="operator">=</span>NEW.description,detail<span class="operator">=</span>NEW.detail,after_sale<span class="operator">=</span>NEW.after_sale,up_time<span class="operator">=</span>NEW.up_time,com_image<span class="operator">=</span>NEW.com_image</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>NEW.com_id;</span><br><span class="line">  <span class="keyword">ELSE</span> </span><br><span class="line">    <span class="comment">-- 更新other</span></span><br><span class="line">    <span class="keyword">UPDATE</span> other</span><br><span class="line">    <span class="keyword">SET</span> com_name<span class="operator">=</span>NEW.com_name,category<span class="operator">=</span>NEW.category,price<span class="operator">=</span>NEW.price,dis_price<span class="operator">=</span>NEW.dis_price,num<span class="operator">=</span>NEW.num,</span><br><span class="line">    description<span class="operator">=</span>NEW.description,detail<span class="operator">=</span>NEW.detail,after_sale<span class="operator">=</span>NEW.after_sale,up_time<span class="operator">=</span>NEW.up_time,com_image<span class="operator">=</span>NEW.com_image</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>NEW.com_id;</span><br><span class="line">  <span class="keyword">END</span> IF;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">RETURN</span> <span class="keyword">NEW</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$ <span class="keyword">LANGUAGE</span> plpgsql;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> update_comsubtable_trigger</span><br><span class="line">AFTER <span class="keyword">UPDATE</span> <span class="keyword">ON</span> commodity</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">EXECUTE</span> <span class="keyword">FUNCTION</span> update_comsubtable_function();</span><br><span class="line">								  </span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TRIGGER</span> update_comsubtable_trigger <span class="keyword">ON</span> commodity</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> delete_comsubtable_function()</span><br><span class="line">  <span class="keyword">RETURNS</span> <span class="keyword">TRIGGER</span> <span class="keyword">AS</span> $$</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="comment">-- 判断商品类别</span></span><br><span class="line">  IF OLD.category <span class="operator">=</span> <span class="string">&#x27;food&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新food</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> food</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>OLD.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;cloth&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新cloth</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> cloth</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>OLD.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;ele_appliment&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新ele_appliment</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> ele_appliment</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>OLD.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;ele_product&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新ele_product</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> ele_product</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>OLD.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;makeup&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新makeup</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> makeup</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>OLD.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;sport&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新sport</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> sport</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>OLD.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;toy&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新toy</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> toy</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>OLD.com_id;</span><br><span class="line">  ELSIF OLD.category <span class="operator">=</span> <span class="string">&#x27;daily_necessarity&#x27;</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">-- 更新daily_necessarity</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> daily_necessarity</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>OLD.com_id;</span><br><span class="line">  <span class="keyword">ELSE</span> </span><br><span class="line">    <span class="comment">-- 更新other</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> other</span><br><span class="line">    <span class="keyword">WHERE</span> com_id<span class="operator">=</span>OLD.com_id;</span><br><span class="line">  <span class="keyword">END</span> IF;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">RETURN</span> <span class="keyword">OLD</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$ <span class="keyword">LANGUAGE</span> plpgsql;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> delete_comsubtable_trigger</span><br><span class="line">AFTER <span class="keyword">DELETE</span> <span class="keyword">ON</span> commodity</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">EXECUTE</span> <span class="keyword">FUNCTION</span> delete_comsubtable_function();</span><br><span class="line">								  </span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TRIGGER</span> delete_comsubtable_trigger <span class="keyword">ON</span> commodity</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 函数</span></span><br><span class="line"><span class="comment">-- 计算商品价格</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">FUNCTION</span> calculate_price( <span class="keyword">IN</span> product_id <span class="type">VARCHAR</span>(<span class="number">20</span>),<span class="keyword">IN</span> user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),<span class="keyword">INOUT</span> total_payment <span class="type">DOUBLE PRECISION</span>);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> calculate_price(</span><br><span class="line">    <span class="keyword">IN</span> product_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="keyword">IN</span> user_id2 <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="keyword">INOUT</span> total_payment <span class="type">DOUBLE PRECISION</span></span><br><span class="line">) <span class="keyword">AS</span> $$</span><br><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">    product_price <span class="type">DOUBLE PRECISION</span>;</span><br><span class="line">	discount_price <span class="type">DOUBLE PRECISION</span>;</span><br><span class="line">    red_packet_discount <span class="type">DOUBLE PRECISION</span>;</span><br><span class="line">    red_packet_id2 <span class="type">INT</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">SELECT</span> price <span class="keyword">INTO</span> product_price <span class="keyword">FROM</span> commodity <span class="keyword">WHERE</span> com_id <span class="operator">=</span> product_id;</span><br><span class="line">	<span class="keyword">SELECT</span> dis_price <span class="keyword">INTO</span> discount_price <span class="keyword">FROM</span> commodity <span class="keyword">WHERE</span> com_id <span class="operator">=</span> product_id;</span><br><span class="line">    <span class="keyword">SELECT</span> red_packet_id <span class="keyword">INTO</span> red_packet_id2 <span class="keyword">FROM</span> consumer_recieve_redpacket <span class="keyword">WHERE</span> user_id <span class="operator">=</span> user_id2;</span><br><span class="line">    <span class="keyword">SELECT</span> value_ <span class="keyword">INTO</span> red_packet_discount <span class="keyword">FROM</span> red_packet <span class="keyword">WHERE</span> red_packet_id <span class="operator">=</span> red_packet_id2;</span><br><span class="line">	RAISE INFO <span class="string">&#x27;origin price: %&#x27;</span>, product_price;</span><br><span class="line">	RAISE INFO <span class="string">&#x27;discount_price: %&#x27;</span>, discount_price;</span><br><span class="line">	RAISE INFO <span class="string">&#x27;red_packet_discount: %&#x27;</span>, red_packet_discount;</span><br><span class="line">    total_payment :<span class="operator">=</span> product_price <span class="operator">-</span> red_packet_discount <span class="operator">-</span> discount_price;</span><br><span class="line">    <span class="comment">-- 更新红包表</span></span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> consumer_recieve_redpacket <span class="keyword">WHERE</span> user_id <span class="operator">=</span> user_id;</span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> red_packet <span class="keyword">WHERE</span> red_packet_id <span class="operator">=</span> red_packet_id;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">RETURN</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$ <span class="keyword">LANGUAGE</span> plpgsql;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 直接购买商品</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">FUNCTION</span> buy_commodity_directly(<span class="keyword">IN</span> product_id <span class="type">VARCHAR</span>(<span class="number">20</span>),<span class="keyword">IN</span> user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),<span class="keyword">IN</span> order_id <span class="type">VARCHAR</span>(<span class="number">20</span>),<span class="keyword">IN</span> buy_num <span class="type">INT</span>);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> buy_commodity_directly(</span><br><span class="line">    <span class="keyword">IN</span> product_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="keyword">IN</span> user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	<span class="keyword">IN</span> order_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	<span class="keyword">IN</span> buy_num <span class="type">INT</span></span><br><span class="line">) <span class="keyword">RETURNS</span> VOID <span class="keyword">AS</span> $$</span><br><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">    total_payment <span class="type">DOUBLE PRECISION</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> commodity <span class="keyword">SET</span> num <span class="operator">=</span> num <span class="operator">-</span> buy_num <span class="keyword">WHERE</span> com_id <span class="operator">=</span> product_id;</span><br><span class="line">	<span class="keyword">SELECT</span> calculate_price(product_id,user_id,total_payment) <span class="keyword">INTO</span> total_payment;</span><br><span class="line">	<span class="keyword">INSERT</span> <span class="keyword">INTO</span> order_ <span class="keyword">VALUES</span> (order_id,product_id,user_id,total_payment,<span class="built_in">CURRENT_TIMESTAMP</span>,<span class="built_in">CURRENT_TIMESTAMP</span>,<span class="string">&#x27;WAITDELIVER&#x27;</span>) ;</span><br><span class="line">	RAISE INFO <span class="string">&#x27;Calculated Total Payment: %&#x27;</span>, total_payment;</span><br><span class="line">	RAISE INFO <span class="string">&#x27;Insert order&#x27;</span>;</span><br><span class="line">	RAISE INFO <span class="string">&#x27;update Commodity num&#x27;</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$ <span class="keyword">LANGUAGE</span> plpgsql;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> red_packet</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;无门槛红包&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;无门槛&#x27;</span>,<span class="string">&#x27;2023-12-25&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> consumer_recieve_redpacket</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12345&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> order_ <span class="keyword">WHERE</span> order_id <span class="operator">=</span> <span class="string">&#x27;com12347tb12345&#x27;</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> logistics <span class="keyword">WHERE</span> com_id <span class="operator">=</span> <span class="string">&#x27;com12347&#x27;</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> commodity <span class="keyword">SET</span> num <span class="operator">=</span> <span class="number">1000</span> <span class="keyword">WHERE</span> com_id <span class="operator">=</span> <span class="string">&#x27;com12347&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> buy_commodity_directly(<span class="string">&#x27;com12347&#x27;</span>, <span class="string">&#x27;tb12345&#x27;</span>, <span class="string">&#x27;com12347tb12345&#x27;</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> order_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> commodity <span class="keyword">WHERE</span> com_id <span class="operator">=</span> <span class="string">&#x27;com12347&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> food <span class="keyword">WHERE</span> com_id <span class="operator">=</span> <span class="string">&#x27;com12347&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> logistics;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> red_packet;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> consumer_recieve_redpacket;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 店铺上架商品</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">FUNCTION</span> store_launch_commodity(<span class="keyword">IN</span> product_id <span class="type">VARCHAR</span>(<span class="number">20</span>),<span class="keyword">IN</span> user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),<span class="keyword">IN</span> launch_num <span class="type">INT</span>);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> store_launch_commodity(</span><br><span class="line">    <span class="keyword">IN</span> product_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="keyword">IN</span> store_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	<span class="keyword">IN</span> launch_num <span class="type">INT</span></span><br><span class="line">) <span class="keyword">RETURNS</span> VOID <span class="keyword">AS</span> $$</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> commodity <span class="keyword">SET</span> num <span class="operator">=</span> num <span class="operator">-</span> launch_num <span class="keyword">WHERE</span> com_id <span class="operator">=</span> product_id;</span><br><span class="line">	<span class="keyword">INSERT</span> <span class="keyword">INTO</span> sell <span class="keyword">VALUES</span> (store_id,com_id,<span class="built_in">CURRENT_TIMESTAMP</span>) ;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$ <span class="keyword">LANGUAGE</span> plpgsql;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 退货</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">FUNCTION</span> return_commodity(<span class="keyword">IN</span> product_id <span class="type">VARCHAR</span>(<span class="number">20</span>),<span class="keyword">IN</span> user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),<span class="keyword">IN</span> buy_num <span class="type">INT</span>);</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> return_commodity(</span><br><span class="line">    <span class="keyword">IN</span> product_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="keyword">IN</span> user_id <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">	<span class="keyword">IN</span> buy_num <span class="type">INT</span></span><br><span class="line">) <span class="keyword">RETURNS</span> VOID <span class="keyword">AS</span> $$</span><br><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">    total_payment <span class="type">DOUBLE PRECISION</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> commodity <span class="keyword">SET</span> num <span class="operator">=</span> num <span class="operator">+</span> buy_num <span class="keyword">WHERE</span> com_id <span class="operator">=</span> product_id;</span><br><span class="line">	<span class="keyword">UPDATE</span> order_ <span class="keyword">SET</span> state <span class="operator">=</span> <span class="string">&#x27;REFUNDING&#x27;</span> <span class="keyword">WHERE</span> com_id <span class="operator">=</span> product_id <span class="keyword">AND</span> user_id <span class="operator">=</span> user_id;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$ <span class="keyword">LANGUAGE</span> plpgsql;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> user_id <span class="operator">=</span> <span class="string">&#x27;tb12347&#x27;</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12345&#x27;</span>, <span class="string">&#x27;Daming&#x27;</span>, <span class="string">&#x27;123456789&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;13981367234&#x27;</span>, <span class="string">&#x27;consumer&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12342&#x27;</span>, <span class="string">&#x27;Amy&#x27;</span>, <span class="string">&#x27;a123456789&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;13981367555&#x27;</span>, <span class="string">&#x27;consumer&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12341&#x27;</span>, <span class="string">&#x27;LingLing&#x27;</span>, <span class="string">&#x27;l123456789&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;13221367234&#x27;</span>,<span class="string">&#x27;consumer&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12343&#x27;</span>, <span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;d123456789&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;13987767234&#x27;</span>, <span class="string">&#x27;consumer&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12344&#x27;</span>, <span class="string">&#x27;sally&#x27;</span>, <span class="string">&#x27;s123456789&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;13984467234&#x27;</span>, <span class="string">&#x27;consumer&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12347&#x27;</span>, <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;t123456789&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;13984467234&#x27;</span>, <span class="string">&#x27;seller&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12346&#x27;</span>, <span class="string">&#x27;Jerry&#x27;</span>, <span class="string">&#x27;j123456789&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;13921367234&#x27;</span>, <span class="string">&#x27;seller&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12348&#x27;</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="string">&#x27;j1234567689&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;15581367234&#x27;</span>, <span class="string">&#x27;seller&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12349&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>, <span class="string">&#x27;r123456789&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;15481367234&#x27;</span>, <span class="string">&#x27;seller&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12340&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;l123456789&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;15681367234&#x27;</span>, <span class="string">&#x27;seller&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> consumer</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> headshot TYPE <span class="type">VARCHAR</span>(<span class="number">500</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> consumer</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12345&#x27;</span>, <span class="string">&#x27;Daming&#x27;</span>, <span class="string">&#x27;123456789&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;13981367234&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;http://img.alicdn.com/sns_logo/i2/2212109088345/O1CN01rsPVu02BW3rihzm8e_!!2212109088345-0-ggpersonal.jpg&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">10.5</span>, <span class="number">500</span>, <span class="string">&#x27;13981367234&#x27;</span>, <span class="string">&#x27;consumer&#x27;</span>,<span class="string">&#x27;com12347+1 com12348+1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> consumer</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12342&#x27;</span>, <span class="string">&#x27;Amy&#x27;</span>, <span class="string">&#x27;a123456789&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;13981367555&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;http://img.alicdn.com/sns_logo/i2/2212109088345/O1CN01rsPVu02BW3rihzm8e_!!2212109088345-0-ggpersonal.jpg&#x27;</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">20.5</span>, <span class="number">50</span>, <span class="string">&#x27;13981367555&#x27;</span>, <span class="string">&#x27;consumer&#x27;</span>,<span class="string">&#x27;com12349+2 com12348+2&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> consumer</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12341&#x27;</span>, <span class="string">&#x27;LingLing&#x27;</span>, <span class="string">&#x27;l123456789&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;13221367234&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;http://img.alicdn.com/sns_logo/i2/2212109088345/O1CN01rsPVu02BW3rihzm8e_!!2212109088345-0-ggpersonal.jpg&#x27;</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">30.5</span>, <span class="number">900</span>, <span class="string">&#x27;13221367234&#x27;</span>, <span class="string">&#x27;consumer&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> consumer</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12343&#x27;</span>, <span class="string">&#x27;David&#x27;</span>, <span class="string">&#x27;d123456789&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;13987767234&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;http://img.alicdn.com/sns_logo/i2/2212109088345/O1CN01rsPVu02BW3rihzm8e_!!2212109088345-0-ggpersonal.jpg&#x27;</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">100.5</span>, <span class="number">1500</span>, <span class="string">&#x27;13987767234&#x27;</span>, <span class="string">&#x27;consumer&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> consumer</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12344&#x27;</span>, <span class="string">&#x27;sally&#x27;</span>, <span class="string">&#x27;s123456789&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;13984467234&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;http://img.alicdn.com/sns_logo/i2/2212109088345/O1CN01rsPVu02BW3rihzm8e_!!2212109088345-0-ggpersonal.jpg&#x27;</span>, <span class="number">30</span>, <span class="number">30</span>, <span class="number">9</span>, <span class="number">120.5</span>, <span class="number">2500</span>, <span class="string">&#x27;13984467234&#x27;</span>, <span class="string">&#x27;consumer&#x27;</span>,<span class="string">&#x27;com12347+1&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> consumer;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 主账号</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> seller</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12347&#x27;</span>, <span class="string">&#x27;Tom&#x27;</span>, <span class="string">&#x27;t123456789&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;13984467234&#x27;</span>, <span class="string">&#x27;seller&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;T&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> seller</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12346&#x27;</span>, <span class="string">&#x27;Jerry&#x27;</span>, <span class="string">&#x27;j123456789&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;13921367234&#x27;</span>, <span class="string">&#x27;seller&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> seller</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12348&#x27;</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="string">&#x27;j1234567689&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;15581367234&#x27;</span>, <span class="string">&#x27;seller&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;T&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> seller</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12349&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>, <span class="string">&#x27;r123456789&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;15481367234&#x27;</span>, <span class="string">&#x27;seller&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> seller</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12340&#x27;</span>, <span class="string">&#x27;Lily&#x27;</span>, <span class="string">&#x27;l123456789&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;15681367234&#x27;</span>, <span class="string">&#x27;seller&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;T&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> consumer;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> seller;</span><br><span class="line"></span><br><span class="line"><span class="comment">--交易系统数据测试</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--店铺大表</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> store</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;400672256&#x27;</span>,<span class="string">&#x27;Time food&#x27;</span>,<span class="string">&#x27;food&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i1/O1CN01pz5irY1bhDKceJor2_!!6000000003496-2-tps-144-144.png&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;tb12346&#x27;</span>,<span class="string">&#x27;567 West Main Street, Oakville, Canada&#x27;</span>,</span><br><span class="line"><span class="number">1231234.23</span>,<span class="number">421343</span>,<span class="number">21344</span>,<span class="number">67</span>,<span class="number">123134</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="string">&#x27;2018-05-15&#x27;</span>,<span class="number">0</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> store</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;400672257&#x27;</span>,<span class="string">&#x27;Fashion women wear&#x27;</span>,<span class="string">&#x27;cloth&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i1/O1CN01pz5irY1bhDKceJor2_!!6000000003496-2-tps-144-144.png&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;tb12347&#x27;</span>,<span class="string">&#x27;1234 Maple Street, Springfield, USA&#x27;</span>,</span><br><span class="line"><span class="number">141241.12</span>,<span class="number">214120</span>,<span class="number">12312</span>,<span class="number">70</span>,<span class="number">14223</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="string">&#x27;2020-01-10&#x27;</span>,<span class="number">0</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> store</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;400672258&#x27;</span>,<span class="string">&#x27;happy toy&#x27;</span>,<span class="string">&#x27;toy&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i1/O1CN01pz5irY1bhDKceJor2_!!6000000003496-2-tps-144-144.png&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;tb12348&#x27;</span>,<span class="string">&#x27;789 Elmwood Avenue, Portland, USA&#x27;</span>,</span><br><span class="line"><span class="number">412442.2</span>,<span class="number">4124</span>,<span class="number">423</span>,<span class="number">40</span>,<span class="number">2223</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="string">&#x27;2022-09-23&#x27;</span>,<span class="number">0</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--商品大表</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> commodity</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com12347&#x27;</span>, <span class="string">&#x27;cookie&#x27;</span>, <span class="string">&#x27;food&#x27;</span>, <span class="number">5.99</span>, <span class="number">1</span>,<span class="number">1000</span>,<span class="string">&#x27;very delicious&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Deliciously crisp and golden, these cookies are the perfect blend of sweetness and crunch. Each bite is filled with rich flavors, leaving a lingering vanilla aroma. Indulge in these irresistible treats that will surely satisfy your cravings. Enjoy them with a cup of tea or share them with friends for a delightful snack experience.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-07-01&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i3/1408820149/O1CN01B67UhV1CyHv3krMdJ_!!0-saturn_solar.jpg_460x460q90.jpg_.webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> commodity</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com12348&#x27;</span>, <span class="string">&#x27;River snail rice noodle&#x27;</span>, <span class="string">&#x27;food&#x27;</span>, <span class="number">10.99</span>, <span class="number">0</span>,<span class="number">5000</span>,<span class="string">&#x27;smelly but delicious&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;A popular dish from southern China, this bowl of noodles is filled with complex flavors and textures. The slippery rice noodles are topped with a savory sauce made from pickled bamboo shoots, spicy chili oil, minced pork, and fragrant herbs. Served with vinegar and peanuts for extra zing and crunch, this dish is a must-try for any food lover.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-05-20&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i1/2485630119/O1CN01XjB5ap1CkY1ioEbec_!!0-saturn_solar.jpg_460x460q90.jpg_.webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> commodity</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com12349&#x27;</span>, <span class="string">&#x27;spicy strip&#x27;</span>, <span class="string">&#x27;food&#x27;</span>, <span class="number">0.5</span>, <span class="number">0</span>,<span class="number">100000</span>,<span class="string">&#x27;Taste of childhood&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Spicy and addictive, these chewy strips pack a punch of flavor. Infused with a blend of fiery spices, they offer a satisfying kick with every bite. Whether you enjoy them as a snack on the go or as a zesty addition to your favorite dishes, these spicy sticks are sure to spice up your day.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-01-15&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i4/101025137/O1CN014tAkX81nonUmjbfXL_!!0-saturn_solar.jpg_460x460q90.jpg_.webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> commodity</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com12350&#x27;</span>, <span class="string">&#x27;Braised beef noodles&#x27;</span>, <span class="string">&#x27;food&#x27;</span>, <span class="number">3.5</span>, <span class="number">0</span>,<span class="number">10000</span>,<span class="string">&#x27;filling&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Spicy and addictive, these chewy strips pack a punch of flavor. Infused with a blend of fiery spices, they offer a satisfying kick with every bite. Whether you enjoy them as a snack on the go or as a zesty addition to your favorite dishes, these spicy sticks are sure to spice up your day.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-10-02&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://g-search3.alicdn.com/img/bao/uploaded/i4/i1/2371566698/O1CN014qvI8h1zLjhoHxwEH_!!0-item_pic.jpg_460x460q90.jpg_.webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> commodity</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com12351&#x27;</span>, <span class="string">&#x27;jelly&#x27;</span>, <span class="string">&#x27;food&#x27;</span>, <span class="number">20.99</span>, <span class="number">5.99</span>,<span class="number">10000</span>,<span class="string">&#x27;chewy and delicious&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Delightfully wobbly and bursting with fruity sweetness, this jelly treat is a playful indulgence for all ages. Each colorful, translucent cube offers a refreshing burst of flavor, making it a fun and satisfying snack. Whether enjoyed on its own or as part of a dessert, this jiggly delight is sure to bring joy.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-11-01&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i3/2908500146/O1CN01UEccf61CwujVuykdl_!!0-saturn_solar.jpg_460x460q90.jpg_.webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> commodity</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com13310&#x27;</span>, <span class="string">&#x27;Down jacket&#x27;</span>, <span class="string">&#x27;cloth&#x27;</span>, <span class="number">399</span>, <span class="number">100</span>,<span class="number">2000</span>,<span class="string">&#x27;Fit like a glove&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Designed for warmth and style, this down jacket is the ultimate winter companion. Filled with soft and insulating down feathers, it provides exceptional insulation against the cold. Its sleek and quilted design offers a trendy and modern look, while the cozy hood and zippered pockets add practicality. Stay snug and fashionable in this essential winter apparel.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-10-20&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://g-search1.alicdn.com/img/bao/uploaded/i4/i2/3422193418/O1CN01BV60Ej1b7UcX4Zjyz_!!3422193418.jpg_460x460q90.jpg_.webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> commodity</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com13410&#x27;</span>, <span class="string">&#x27;Midea air conditioner&#x27;</span>, <span class="string">&#x27;ele_appliment&#x27;</span>, <span class="number">2999</span>, <span class="number">200</span>,<span class="number">2000</span>,<span class="string">&#x27;Very cool&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;This air conditioner is the perfect solution for keeping your home cool and comfortable. With its powerful cooling capabilities, it quickly cools down any room. Its sleek and compact design fits seamlessly into any space, while its energy-efficient technology ensures minimal electricity consumption. Control the temperature with ease using the remote control or programmable timer, making it a convenient and reliable option for hot summer months.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-02-27&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i2/100532851/O1CN01CqyVgR1Wvo3NORkOs_!!2-saturn_solar.png_460x460q90.jpg_.webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> commodity</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com13510&#x27;</span>, <span class="string">&#x27;vivo mobile phone&#x27;</span>, <span class="string">&#x27;ele_product&#x27;</span>, <span class="number">99999</span>, <span class="number">2000</span>,<span class="number">2000</span>,<span class="string">&#x27;Too expensive&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Sleek and powerful, this smartphone is a technological marvel. Its high-resolution display brings visuals to life with vibrant colors and sharp details. With a lightning-fast processor and ample storage capacity, it effortlessly handles multitasking and stores all your important files. Capture stunning photos with its advanced camera system and stay connected with fast internet speeds. This phone merges style and functionality seamlessly, making it a must-have gadget.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-10-27&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i2/14867192/O1CN01mHqjjR22zzPUyJaeD_!!0-saturn_solar.jpg_460x460q90.jpg_.webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> commodity</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com13610&#x27;</span>, <span class="string">&#x27;Liquid foundation&#x27;</span>, <span class="string">&#x27;makeup&#x27;</span>, <span class="number">49</span>, <span class="number">0</span>,<span class="number">2000</span>,<span class="string">&#x27;Flawless coverage, radiant complexion&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;This foundation is a game-changer. It provides seamless coverage that blurs imperfections, leaving a natural and glowing complexion. Its lightweight formula blends effortlessly, ensuring a smooth and even finish. With long-lasting staying power, it keeps your skin looking flawless all day. Enhance your beauty with this exceptional foundation.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-11-27&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i1/30321366/O1CN01GuqGrB1Lxfims8RoA_!!0-saturn_solar.jpg_460x460q90.jpg_.webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> commodity</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com13710&#x27;</span>, <span class="string">&#x27;Ultraman&#x27;</span>, <span class="string">&#x27;toy&#x27;</span>, <span class="number">20.3</span>, <span class="number">0</span>,<span class="number">5000</span>,<span class="string">&#x27;Children like it very much&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Unleash your creativity with this versatile toy. With endless possibilities, it sparks imagination and promotes hands-on learning. Its durable construction ensures long-lasting fun, while its vibrant colors and unique design capture attention. Whether building, stacking, or creating imaginative stories, this toy guarantees hours of entertainment for children of all ages.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2022-12-15&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://g-search1.alicdn.com/img/bao/uploaded/i4/i1/1898884903/O1CN01YPWF7r1m5coIGl8h2_!!1898884903.jpg_460x460q90.jpg_.webp&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--食品小表</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> food</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com12347&#x27;</span>, <span class="string">&#x27;cookie&#x27;</span>, <span class="string">&#x27;food&#x27;</span>, <span class="number">5.99</span>, <span class="number">1</span>,<span class="number">1000</span>,<span class="string">&#x27;very delicious&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Deliciously crisp and golden, these cookies are the perfect blend of sweetness and crunch. Each bite is filled with rich flavors, leaving a lingering vanilla aroma. Indulge in these irresistible treats that will surely satisfy your cravings. Enjoy them with a cup of tea or share them with friends for a delightful snack experience.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-07-01&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i3/1408820149/O1CN01B67UhV1CyHv3krMdJ_!!0-saturn_solar.jpg_460x460q90.jpg_.webp&#x27;</span>,</span><br><span class="line"><span class="number">180</span>,<span class="string">&#x27;1kg&#x27;</span>,<span class="string">&#x27;Original taste&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> food</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com12348&#x27;</span>, <span class="string">&#x27;River snail rice noodle&#x27;</span>, <span class="string">&#x27;food&#x27;</span>, <span class="number">10.99</span>, <span class="number">0</span>,<span class="number">5000</span>,<span class="string">&#x27;smelly but delicious&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;A popular dish from southern China, this bowl of noodles is filled with complex flavors and textures. The slippery rice noodles are topped with a savory sauce made from pickled bamboo shoots, spicy chili oil, minced pork, and fragrant herbs. Served with vinegar and peanuts for extra zing and crunch, this dish is a must-try for any food lover.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-05-20&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i1/2485630119/O1CN01XjB5ap1CkY1ioEbec_!!0-saturn_solar.jpg_460x460q90.jpg_.webp&#x27;</span>,</span><br><span class="line"><span class="number">90</span>,<span class="string">&#x27;225g&#x27;</span>,<span class="string">&#x27;Original taste&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> food</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com12349&#x27;</span>, <span class="string">&#x27;spicy strip&#x27;</span>, <span class="string">&#x27;food&#x27;</span>, <span class="number">0.5</span>, <span class="number">0</span>,<span class="number">100000</span>,<span class="string">&#x27;Taste of childhood&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Spicy and addictive, these chewy strips pack a punch of flavor. Infused with a blend of fiery spices, they offer a satisfying kick with every bite. Whether you enjoy them as a snack on the go or as a zesty addition to your favorite dishes, these spicy sticks are sure to spice up your day.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-01-15&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i4/101025137/O1CN014tAkX81nonUmjbfXL_!!0-saturn_solar.jpg_460x460q90.jpg_.webp&#x27;</span>,</span><br><span class="line"><span class="number">360</span>,<span class="string">&#x27;50g&#x27;</span>,<span class="string">&#x27;Original taste&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> food</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com12350&#x27;</span>, <span class="string">&#x27;Braised beef noodles&#x27;</span>, <span class="string">&#x27;food&#x27;</span>, <span class="number">3.5</span>, <span class="number">0</span>,<span class="number">10000</span>,<span class="string">&#x27;filling&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Spicy and addictive, these chewy strips pack a punch of flavor. Infused with a blend of fiery spices, they offer a satisfying kick with every bite. Whether you enjoy them as a snack on the go or as a zesty addition to your favorite dishes, these spicy sticks are sure to spice up your day.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-10-02&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://g-search3.alicdn.com/img/bao/uploaded/i4/i1/2371566698/O1CN014qvI8h1zLjhoHxwEH_!!0-item_pic.jpg_460x460q90.jpg_.webp&#x27;</span>,</span><br><span class="line"><span class="number">90</span>,<span class="string">&#x27;225g&#x27;</span>,<span class="string">&#x27;Braised beef&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> food</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;com12351&#x27;</span>, <span class="string">&#x27;jelly&#x27;</span>, <span class="string">&#x27;food&#x27;</span>, <span class="number">20.99</span>, <span class="number">5.99</span>,<span class="number">10000</span>,<span class="string">&#x27;chewy and delicious&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Delightfully wobbly and bursting with fruity sweetness, this jelly treat is a playful indulgence for all ages. Each colorful, translucent cube offers a refreshing burst of flavor, making it a fun and satisfying snack. Whether enjoyed on its own or as part of a dessert, this jiggly delight is sure to bring joy.&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Seven days no reason to return&#x27;</span>,<span class="string">&#x27;2023-11-01&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;https://img.alicdn.com/imgextra/i3/2908500146/O1CN01UEccf61CwujVuykdl_!!0-saturn_solar.jpg_460x460q90.jpg_.webp&#x27;</span>,</span><br><span class="line"><span class="number">360</span>,<span class="string">&#x27;100g&#x27;</span>,<span class="string">&#x27;orange&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--店铺商品关系表</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sell</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;400672256&#x27;</span>,<span class="string">&#x27;com12347&#x27;</span>,<span class="string">&#x27;2023-08-01&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sell</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;400672256&#x27;</span>,<span class="string">&#x27;com12348&#x27;</span>,<span class="string">&#x27;2023-05-30&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sell</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;400672256&#x27;</span>,<span class="string">&#x27;com12349&#x27;</span>,<span class="string">&#x27;2023-02-18&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sell</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;400672256&#x27;</span>,<span class="string">&#x27;com12350&#x27;</span>,<span class="string">&#x27;2023-10-07&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sell</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;400672256&#x27;</span>,<span class="string">&#x27;com12351&#x27;</span>,<span class="string">&#x27;2023-11-10&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> commodity;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> store;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> food;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sell;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询一个店铺的所有商品</span></span><br><span class="line"><span class="keyword">SELECT</span> com_id <span class="keyword">FROM</span> ((store <span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> sell)<span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> commodity)</span><br><span class="line"><span class="keyword">WHERE</span> store_id <span class="operator">=</span> <span class="string">&#x27;400672256&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--聊天系统的数据测试</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000001&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;你吃饭了吗？&#x27;</span>,<span class="string">&#x27;2022-01-10 12:00:00&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000002&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;还没有&#x27;</span>,<span class="string">&#x27;2022-01-10 12:00:30&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000003&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;今天布置了什么作业了？&#x27;</span>,<span class="string">&#x27;2022-01-12 18:00:00&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000004&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;数值计算的编程作业&#x27;</span>,<span class="string">&#x27;2022-01-12 18:30:53&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000005&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;edge detection&#x27;</span>,<span class="string">&#x27;2022-01-12 18:44:24&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000006&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;一会去哪吃？&#x27;</span>,<span class="string">&#x27;2022-01-10 12:00:47&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000007&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;兰园二楼&#x27;</span>,<span class="string">&#x27;2022-01-10 12:01:20&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000008&#x27;</span>,<span class="string">&#x27;图片&#x27;</span>,<span class="string">&#x27;D:\image\2.jpg&#x27;</span>,<span class="string">&#x27;2022-01-12 18:50:55&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000009&#x27;</span>,<span class="string">&#x27;视频&#x27;</span>,<span class="string">&#x27;D:\video\2.mp4&#x27;</span>,<span class="string">&#x27;2022-01-12 18:51:56&#x27;</span>);</span><br><span class="line"><span class="comment">--对话消息总表数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> conversation_message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000001&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;你吃饭了吗？&#x27;</span>,<span class="string">&#x27;2022-01-10 12:00:00&#x27;</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> conversation_message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000002&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;还没有&#x27;</span>,<span class="string">&#x27;2022-01-10 12:00:30&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> conversation_message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000006&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;一会去哪吃？&#x27;</span>,<span class="string">&#x27;2022-01-10 12:00:47&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> conversation_message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000007&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;兰园二楼&#x27;</span>,<span class="string">&#x27;2022-01-10 12:01:20&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="comment">--群组消息总表数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> group_message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000003&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;今天布置了什么作业了？&#x27;</span>,<span class="string">&#x27;2022-01-12 18:00:00&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> group_message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000004&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;数值计算的编程作业&#x27;</span>,<span class="string">&#x27;2022-01-12 18:30:53&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> group_message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000005&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;edge detection&#x27;</span>,<span class="string">&#x27;2022-01-12 18:44:24&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> group_message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000008&#x27;</span>,<span class="string">&#x27;图片&#x27;</span>,<span class="string">&#x27;D:\image\2.jpg&#x27;</span>,<span class="string">&#x27;2022-01-12 18:50:55&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> group_message</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ms0000000000009&#x27;</span>,<span class="string">&#x27;视频&#x27;</span>,<span class="string">&#x27;D:\video\2.mp4&#x27;</span>,<span class="string">&#x27;2022-01-12 18:51:56&#x27;</span>);</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> message;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> group_message;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> message;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> conversation_message;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> group_message;</span><br><span class="line"></span><br><span class="line"><span class="comment">--评价消息总表数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> evaluation</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ev0000000000001&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;这件衣服的材质很好,穿起来很舒服&#x27;</span>, <span class="literal">false</span>, <span class="string">&#x27;好&#x27;</span>, <span class="string">&#x27;2023-02-22 14:00:00&#x27;</span>,</span><br><span class="line">	   <span class="literal">false</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> evaluation</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ev0000000000002&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;这个充电宝充电慢，还会漏电&#x27;</span>, <span class="literal">false</span>, <span class="string">&#x27;差&#x27;</span>, <span class="string">&#x27;2023-03-12 15:30:53&#x27;</span>,</span><br><span class="line">	   <span class="literal">false</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> evaluation</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ev0000000000003&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;这个薯片很好吃，值得一买&#x27;</span>, <span class="literal">true</span>, <span class="string">&#x27;好&#x27;</span>, <span class="string">&#x27;2023-04-11 08:12:22&#x27;</span>,</span><br><span class="line">	   <span class="literal">false</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> evaluation</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ev0000000000003&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;这个薯片很好吃，值得一买&#x27;</span>, <span class="literal">true</span>, <span class="string">&#x27;好&#x27;</span>, <span class="string">&#x27;2023-04-11 08:12:22&#x27;</span>,</span><br><span class="line">	   <span class="literal">false</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> evaluation</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ev0000000000004&#x27;</span>,<span class="string">&#x27;文本&#x27;</span>,<span class="string">&#x27;这件衣服真的很好看，还便宜&#x27;</span>, <span class="literal">false</span>, <span class="string">&#x27;好&#x27;</span>, <span class="string">&#x27;2023-02-23 10:10:55&#x27;</span>,</span><br><span class="line">	   <span class="literal">true</span>, <span class="number">25</span>, <span class="number">30</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> evaluation</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ev0000000000005&#x27;</span>,<span class="string">&#x27;图片&#x27;</span>,<span class="string">&#x27;D:\image\1.jpg&#x27;</span>, <span class="literal">false</span>, <span class="string">&#x27;好&#x27;</span>, <span class="string">&#x27;2023-03-23 11:25:35&#x27;</span>,</span><br><span class="line">	   <span class="literal">false</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> evaluation</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;ev0000000000006&#x27;</span>,<span class="string">&#x27;视频&#x27;</span>,<span class="string">&#x27;D:\video\1.mp4&#x27;</span>, <span class="literal">false</span>, <span class="string">&#x27;好&#x27;</span>, <span class="string">&#x27;2023-01-25 16:55:45&#x27;</span>,</span><br><span class="line">	   <span class="literal">false</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> evaluation;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> evaluation <span class="keyword">WHERE</span> evaluation_id <span class="operator">=</span> <span class="string">&#x27;ev0000000000005&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> evaluation;</span><br><span class="line"><span class="comment">--好友消息索引表数据</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> friend_and_friend</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12345&#x27;</span>, <span class="string">&#x27;tb12342&#x27;</span>, <span class="string">&#x27;ms0000000000001&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> friend_and_friend</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12342&#x27;</span>, <span class="string">&#x27;tb12345&#x27;</span>, <span class="string">&#x27;ms0000000000002&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> friend_and_friend</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12345&#x27;</span>, <span class="string">&#x27;tb12342&#x27;</span>, <span class="string">&#x27;ms0000000000006&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> friend_and_friend</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">&#x27;tb12342&#x27;</span>, <span class="string">&#x27;tb12345&#x27;</span>, <span class="string">&#x27;ms0000000000007&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> friend_and_friend;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://haydenzhy.github.io/">梨花先雪</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://haydenzhy.github.io/post/73de793a">https://haydenzhy.github.io/post/73de793a</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://HaydenZHY.github.io" target="_blank">梨花先雪</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><a class="post-meta__tags" href="/tags/%E5%AE%9E%E8%B7%B5/">实践</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/HaydenZHY/jsdelivr@main/image/avatar/avatar2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/23b2b017" title="ICPC算法模版"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">ICPC算法模版</div></div></a></div><div class="next-post pull-right"><a href="/post/bd442674" title="习概重点"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">习概重点</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/7f61ed21" title="软件工程综合实践"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-01</div><div class="title">软件工程综合实践</div></div></a></div><div><a href="/post/3f763db6" title="计算机网络实践记录"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-28</div><div class="title">计算机网络实践记录</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/HaydenZHY/jsdelivr@main/image/avatar/avatar2.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">梨花先雪</div><div class="author-info__description">言必信，行必果</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">46</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">59</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/HaydenZHY"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/HaydenZHY" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:243038409@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Welcome to my Blog !</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/6e3f7550" title="VSCode中运行Python程序">VSCode中运行Python程序</a><time datetime="2025-02-23T09:42:44.000Z" title="发表于 2025-02-23 17:42:44">2025-02-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/7eb1e4f1" title="《机器学习》基础实验（二）">《机器学习》基础实验（二）</a><time datetime="2025-02-19T13:31:45.000Z" title="发表于 2025-02-19 21:31:45">2025-02-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/1c5e69c3" title="《机器学习》基础实验（一）">《机器学习》基础实验（一）</a><time datetime="2025-02-19T04:10:55.000Z" title="发表于 2025-02-19 12:10:55">2025-02-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/c12ae0dc" title="DeepSeek接入到WPS（Word）中">DeepSeek接入到WPS（Word）中</a><time datetime="2025-02-12T14:22:33.000Z" title="发表于 2025-02-12 22:22:33">2025-02-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/post/8ba9c08" title="firework">firework</a><time datetime="2025-01-27T11:28:39.000Z" title="发表于 2025-01-27 19:28:39">2025-01-27</time></div></div></div></div></div></div></main><footer id="footer" style="background: #626079"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By 梨花先雪</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="chat-btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(()=>{
  const getGiscusTheme = theme => {
    return theme === 'dark' ? 'dark' : 'light'
  }

  const loadGiscus = () => {
    const config = Object.assign({
      src: 'https://giscus.app/client.js',
      'data-repo': 'HaydenZHY/HaydenZHY.github.io',
      'data-repo-id': 'R_kgDOMtPJmQ',
      'data-category-id': 'DIC_kwDOMtPJmc4ClrGo',
      'data-mapping': 'pathname',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true
    },null)

    const ele = document.createElement('script')
    for (let key in config) {
      ele.setAttribute(key, config[key])
    }
    document.getElementById('giscus-wrap').appendChild(ele)
  }

  const changeGiscusTheme = theme => {
    const sendMessage = message => {
      const iframe = document.querySelector('iframe.giscus-frame')
      if (!iframe) return
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
    }

    sendMessage({
      setConfig: {
        theme: getGiscusTheme(theme)
      }
    });
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment= loadGiscus
  }
})()</script></div><script id="canvas_nest" defer="defer" color="121,206,226" opacity="0.7" zIndex="-1" count="88" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-heart.min.js" async="async" mobile="true"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["link[rel=\"canonical\"]","meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/movies/"]):not([href="/books/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404')
  }
})</script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'a996012aef93459d8c1f716106a6a684';
  var gaud_map_key = 'd85e2aaaa9c353eeacde11351c3f7484';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.982279,28.19409';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>